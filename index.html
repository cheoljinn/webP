<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>수업 듣기 개싫다</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        /* 남은 돈 위치를 최상단에 고정 */
        #money {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
            font-weight: bold;
        }
        .slot-machine {
            display: flex;
            margin-top: 100px; /* 슬롯머신 위치를 아래로 */
        }
        .slot {
            font-size: 2rem;
            margin: 0 10px;
        }
    </style>
</head>
<body>

<div id="money">남은 돈: 100원</div>
<div id="result"></div>
<div class="slot-machine">
    <div class="slot">🍀</div>
    <div class="slot">⭐</div>
    <div class="slot">⛄</div>
</div>
<button onclick="startSlotMachine()">시작</button>
<button onclick="stopSlotMachine()">멈추기</button>

<script>
    let money = 100;
    let intervalId;
    const symbols = ["🍀", "⭐", "⛄", "💘", "🐬"];
    const slots = document.querySelectorAll(".slot");
    const resultElement = document.getElementById("result");
    const moneyElement = document.getElementById("money");

    function getRandomSymbol() {
        return symbols[Math.floor(Math.random() * symbols.length)];
    }

    function updateMoneyDisplay() {
        moneyElement.innerText = "남은 돈: " + money + "원";
    }

    function startSlotMachine() {
        if (money < 10) {
            resultElement.textContent = "돈이 부족합니다.";
            return;
        }

        money -= 10;
        updateMoneyDisplay();

        const interval = 100;
        const finalSymbols = [];
        for (let i = 0; i < slots.length; i++) {
            finalSymbols.push(getRandomSymbol());
        }

        let iterationCount = 0;
        const iterations = 50;

        intervalId = setInterval(() => {
            iterationCount++;
            slots.forEach((slot) => {
                slot.innerHTML = getRandomSymbol();
            });

            if (iterationCount >= iterations) {
                clearInterval(intervalId);
                finalizeSlots(finalSymbols);
            }
        }, interval);
    }

    function stopSlotMachine() {
        if (intervalId) {
            clearInterval(intervalId);
            const finalSymbols = Array.from({ length: slots.length }, getRandomSymbol);
            finalizeSlots(finalSymbols);
        }
    }

    function finalizeSlots(finalSymbols) {
        slots.forEach((slot, index) => {
            slot.innerHTML = finalSymbols[index];
        });

        if (finalSymbols[0] === finalSymbols[1] && finalSymbols[1] === finalSymbols[2]) {
            resultElement.textContent = "잭팟!";
            money += 100;
        } else if (finalSymbols[0] === finalSymbols[1] || finalSymbols[1] === finalSymbols[2] || finalSymbols[0] === finalSymbols[2]) {
            resultElement.textContent = "2개 맞았음";
            money += 10;
        } else {
            resultElement.textContent = "꽝!";
        }
        updateMoneyDisplay();
    }
</script>

</body>
</html>
